---
import Page from "@layouts/Page.astro";
import { formatIssue, getIssues } from "@utils/issues";

const issues = await getIssues();
---

<Page>
  <h1 class="mb-1">zine</h1>
  <p class="mb-8 mt-0 text-lg text-gray-600">by astrology council</p>

  <ul>
    {
      issues.map((issueId) => (
        <li>
          <a
            href={`/${issueId}`}
            class="text-xl text-blue-600 underline hover:text-blue-800"
          >
            {formatIssue(issueId)}
          </a>
        </li>
      ))
    }
  </ul>

  <script>
    import { sdk } from "@farcaster/miniapp-sdk";

    await sdk.actions.ready();
  </script>
</Page>
